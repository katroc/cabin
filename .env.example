# LLM Configuration
# Base URL for your OpenAI-compatible LLM API endpoint
LLM_BASE_URL=http://localhost:8000/v1

# API key for your LLM service (use "dummy-key" for local setups)
LLM_API_KEY=your-llm-api-key

# Model name to use for chat completions (leave empty for auto-discovery)
LLM_MODEL=

# Embedding Model Configuration
# Base URL for your embedding API endpoint (defaults to LLM_BASE_URL if not set)
EMBEDDING_BASE_URL=http://localhost:8001/v1

# API key for your embedding service (defaults to LLM_API_KEY if not set)
EMBEDDING_API_KEY=your-embedding-api-key

# Embedding model name (leave empty for auto-discovery)
EMBEDDING_MODEL=

# Dimension size of the embeddings (must match your model)
EMBEDDING_DIMENSIONS=1024

# Batch size for embedding requests
EMBEDDING_BATCH_SIZE=16

# Vector Database Configuration
# ChromaDB hostname
CHROMA_HOST=localhost

# ChromaDB port
CHROMA_PORT=8100

# Collection name for storing child chunks
CHILD_COLLECTION_NAME=cabin_child_chunks

# Parent-Child Chunking Configuration
# Target size for parent chunks in characters
PARENT_CHUNK_SIZE=4000

# Target size for child chunks in characters
CHILD_CHUNK_SIZE=400

# Overlap between child chunks in characters
CHILD_CHUNK_OVERLAP=50

# RAG Pipeline Configuration
# Number of similar child chunks to retrieve
TOP_K=5

# Weight applied to lexical relevance (0.0-1.0)
LEXICAL_OVERLAP_WEIGHT=0.3

# Minimum normalized lexical score to keep a chunk (0.0-1.0)
MIN_LEXICAL_SCORE=0.1

# Language code for stopword removal (e.g., 'en' for English)
STOPWORDS_LANGUAGE=en

# Minimum token length for lexical scoring
MIN_TOKEN_LENGTH=3

# Reranker Configuration
# URL for the reranker service
RERANKER_URL=http://localhost:8002/rerank

# API key for the reranker service (leave empty if not required)
RERANKER_API_KEY=

# Model name for the reranker (leave empty for auto-discovery)
RERANKER_MODEL=

# Alternative reranker URL (used by start.py)
CABIN_RERANKER_URL=http://localhost:8002/rerank

# Port for the reranker service
CABIN_RERANKER_PORT=8002

# App Configuration
# Path to the YAML configuration file
CABIN_APP_CONFIG_PATH=config/app.yaml

# Allowed origins for CORS (comma-separated)
CABIN_ALLOWED_ORIGINS=http://localhost,http://localhost:3000

# Log level (DEBUG, INFO, WARNING, ERROR)
CABIN_LOG_LEVEL=INFO

# Feature Flags (optional overrides - defaults are in config/app.yaml)
# Enable/disable RAG provenance locking
# FEATURE_RAG_PROVENANCE_LOCK=true

# Enable/disable reranker functionality
# FEATURE_RERANKER=true

# Enable/disable RM3 query expansion
# FEATURE_RM3=false

# Enable/disable heuristic fallback
# FEATURE_HEURISTIC_FALLBACK=true

# Rate Limiting for Reranker Service
# Time window for rate limiting in seconds
RERANKER_RATE_WINDOW_SECONDS=60

# Maximum requests allowed per time window
RERANKER_RATE_MAX_REQUESTS=120

# Fallback host for reranker service
RERANKER_FALLBACK_HOST=localhost